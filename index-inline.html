<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>XSL Tracer</title>
		<link rel="stylesheet" href="./css/xsl-tracer.css" />
		<script type="text/javascript" src="./src/lib/jquery-1.4.2.min.js"></script>
		<script type="text/javascript" src="./src/lib/json2.js"></script>
		<script type="text/javascript" src="./src/lib/EventDispatcher.js"></script>
		<script type="text/javascript" src="./src/event-names.js"></script>
		<script type="text/javascript" src="./src/errors.js"></script>
		<script type="text/javascript" src="./src/xsl_tracer.js"></script>
		<script type="text/javascript" src="./src/resource.js"></script>
		<script type="text/javascript" src="./src/utils.js"></script>
		<script type="text/javascript" src="./src/renderer.js"></script>
		<script type="text/javascript" src="./src/sections.js"></script>
		<script type="text/javascript" src="./src/top-panel.js"></script>
		<script type="text/javascript" src="./src/bottom-panel.js"></script>
		<script type="text/javascript" src="./src/ui.js"></script>
		<script type="text/javascript" src="./src/preloader.js"></script>
	</head>
	<body>
		<div id="xt-preloader">
			<h3>Loading...</h3>
			<div class="xt-files"></div>
			<div id="xt-preloader-other-errors">
				<h3>Errors:</h3>
			</div>
		</div>
		<!-- 
			Uncomment the #xt-global-error block to show server error and
			cancel XSL tracer initialization
		 -->
		<!-- 
		<div id="xt-global-error">			<h2>Error</h2>			<div id="xt-global-error-content">				<p>The XSL traces cannot be initialized because of the following server error:</p>				<div class="xt-error">Server error here</div>			</div>		</div> 
		-->
		
		<div id="xt-page">			<div id="xt-top-panel">
				<div class="xt-view-file">
					<label for="file">View file: </label>
					<select name="file" id="fld-xt-file"></select>
				</div>
			</div>			<div id="xt-page-body">				<div id="xt-content"></div>			</div>			<div id="xt-trace-info">				<div class="xt-panel-header">XSL trace panel</div>
				<div class="xt-section" id="xt-xsl-section">
					<h2>
						<span class="xt-subtitle xt-file-link"></span>
						<span class="xt-title">XSL</span>
					</h2>
					<h3>
						<span class="xt-xpath"></span>
						<span class="xt-copy-buf"></span>
					</h3>
					<div class="xt-section-content"></div>
				</div>				<div class="xt-section" id="xt-xml-section">
					<h2>
						<span class="xt-subtitle xt-file-link"></span>
						<span class="xt-title">Context XML</span>
					</h2>
					<h3>
						<span class="xt-xpath"></span>
						<span class="xt-copy-buf"></span>
					</h3>
					<div class="xt-section-content"></div>
				</div>				<div class="xt-section" id="xt-callstack-section">
					<h3>
						<span class="xt-title">Call stack</span>
					</h3>
				</div>			</div>		</div>
		
		<div id="xt-result-doc" class="xt-document">
			&lt;div id=&quot;page&quot; class=&quot;layout-right&quot;&gt;&lt;ul&gt;&lt;li class=&quot;test1&quot;&gt;&lt;span&gt;item 1&lt;/span&gt;&lt;label&gt;Some other text&lt;/label&gt;&lt;/li&gt;&lt;li class=&quot;test2&quot;&gt;&lt;span&gt;item 2&lt;/span&gt;&lt;label&gt;Some other text&lt;/label&gt;&lt;/li&gt;&lt;item class=&quot;test3&quot; type=&quot;super&quot;&gt;&lt;span&gt;item 3&lt;/span&gt;&lt;label&gt;Some text&lt;/label&gt;&lt;/item&gt;&lt;li class=&quot;test4&quot;&gt;&lt;span&gt;item 4&lt;/span&gt;&lt;label&gt;Some other text&lt;/label&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;
		</div>
		
		<script type="text/javascript">
			var xsl_tracing_data = {"tag":"root","name":"","xsl":["simple.xsl","import.xsl"],"xml":["../xml/external.xml","../xml/f/external.xml"],"children":[{"tag":"xsl:variable","name":"ext","attrs":{"select":"document('../xml/f/external.xml')/document/label"},"meta":{"l":10,"c":86,"m":"0"},"children":[]},{"tag":"xsl:variable","name":"ext2","attrs":{"select":"document('../xml/external.xml')/document/label"},"meta":{"l":11,"c":85,"m":"0"},"children":[]},{"tag":"xsl:template","name":"","attrs":{"match":"/document"},"meta":{"l":13,"c":31,"m":"0"},"src":{"x":"/document","l":-1,"f":"SOURCE"},"children":[{"tag":"L","name":"div","meta":{"l":14,"c":39,"m":"0"},"children":[{"tag":"A","name":"id","meta":{"l":14,"m":"0"},"children":[]},{"tag":"A","name":"class","meta":{"l":14,"m":"0"},"children":[]},{"tag":"L","name":"ul","meta":{"l":15,"c":8,"m":"0"},"children":[{"tag":"xsl:apply-templates","name":"","attrs":{"select":"item","mode":"index"},"meta":{"l":16,"c":56,"m":"0"},"children":[{"tag":"xsl:template","name":"","attrs":{"match":"item","mode":"index"},"meta":{"l":21,"c":44,"m":"0"},"src":{"x":"/document/item[1]","l":-1,"f":"SOURCE"},"children":[{"tag":"L","name":"li","meta":{"l":22,"c":24,"m":"0"},"children":[{"tag":"A","name":"class","meta":{"l":22,"m":"0"},"children":[]},{"tag":"xsl:apply-templates","name":"","attrs":{"select":".","mode":"import"},"meta":{"l":23,"c":51,"m":"0"},"children":[{"tag":"xsl:template","name":"","attrs":{"match":"item","mode":"import"},"meta":{"l":3,"c":43,"m":"1"},"src":{"x":"/document/item[1]","l":-1,"f":"SOURCE"},"children":[{"tag":"L","name":"span","meta":{"l":4,"c":8,"m":"1"},"children":[{"tag":"xsl:value-of","name":"","attrs":{"select":"."},"meta":{"l":5,"c":29,"m":"1"},"children":[]}]}]}]},{"tag":"xsl:apply-templates","name":"","attrs":{"select":"$ext2"},"meta":{"l":24,"c":41,"m":"0"},"children":[{"tag":"xsl:template","name":"","attrs":{"match":"label"},"meta":{"l":37,"c":30,"m":"0"},"src":{"x":"/document/label[1]","l":-1,"f":"0"},"children":[{"tag":"L","name":"label","meta":{"l":38,"c":9,"m":"0"},"children":[{"tag":"xsl:value-of","name":"","attrs":{"select":"."},"meta":{"l":39,"c":29,"m":"0"},"children":[]}]}]}]}]}]},{"tag":"xsl:template","name":"","attrs":{"match":"item","mode":"index"},"meta":{"l":21,"c":44,"m":"0"},"src":{"x":"/document/item[2]","l":-1,"f":"SOURCE"},"children":[{"tag":"L","name":"li","meta":{"l":22,"c":24,"m":"0"},"children":[{"tag":"A","name":"class","meta":{"l":22,"m":"0"},"children":[]},{"tag":"xsl:apply-templates","name":"","attrs":{"select":".","mode":"import"},"meta":{"l":23,"c":51,"m":"0"},"children":[{"tag":"xsl:template","name":"","attrs":{"match":"item","mode":"import"},"meta":{"l":3,"c":43,"m":"1"},"src":{"x":"/document/item[2]","l":-1,"f":"SOURCE"},"children":[{"tag":"L","name":"span","meta":{"l":4,"c":8,"m":"1"},"children":[{"tag":"xsl:value-of","name":"","attrs":{"select":"."},"meta":{"l":5,"c":29,"m":"1"},"children":[]}]}]}]},{"tag":"xsl:apply-templates","name":"","attrs":{"select":"$ext2"},"meta":{"l":24,"c":41,"m":"0"},"children":[{"tag":"xsl:template","name":"","attrs":{"match":"label"},"meta":{"l":37,"c":30,"m":"0"},"src":{"x":"/document/label[1]","l":-1,"f":"0"},"children":[{"tag":"L","name":"label","meta":{"l":38,"c":9,"m":"0"},"children":[{"tag":"xsl:value-of","name":"","attrs":{"select":"."},"meta":{"l":39,"c":29,"m":"0"},"children":[]}]}]}]}]}]},{"tag":"xsl:template","name":"","attrs":{"match":"item[@class = 'test3']","mode":"index"},"meta":{"l":28,"c":50,"m":"0"},"src":{"x":"/document/item[3]","l":-1,"f":"SOURCE"},"children":[{"tag":"xsl:element","name":"{name()}","meta":{"l":29,"c":32,"m":"0"},"children":[{"tag":"xsl:copy-of","name":"","attrs":{"select":"@class"},"meta":{"l":30,"c":34,"m":"0"},"children":[]},{"tag":"xsl:attribute","name":"type","meta":{"l":31,"c":31,"m":"0"},"children":[]},{"tag":"xsl:apply-templates","name":"","attrs":{"select":".","mode":"import"},"meta":{"l":32,"c":51,"m":"0"},"children":[{"tag":"xsl:template","name":"","attrs":{"match":"item","mode":"import"},"meta":{"l":3,"c":43,"m":"1"},"src":{"x":"/document/item[3]","l":-1,"f":"SOURCE"},"children":[{"tag":"L","name":"span","meta":{"l":4,"c":8,"m":"1"},"children":[{"tag":"xsl:value-of","name":"","attrs":{"select":"."},"meta":{"l":5,"c":29,"m":"1"},"children":[]}]}]}]},{"tag":"xsl:apply-templates","name":"","attrs":{"select":"$ext"},"meta":{"l":33,"c":40,"m":"0"},"children":[{"tag":"xsl:template","name":"","attrs":{"match":"label"},"meta":{"l":37,"c":30,"m":"0"},"src":{"x":"/document/label[1]","l":-1,"f":"1"},"children":[{"tag":"L","name":"label","meta":{"l":38,"c":9,"m":"0"},"children":[{"tag":"xsl:value-of","name":"","attrs":{"select":"."},"meta":{"l":39,"c":29,"m":"0"},"children":[]}]}]}]}]}]},{"tag":"xsl:template","name":"","attrs":{"match":"item","mode":"index"},"meta":{"l":21,"c":44,"m":"0"},"src":{"x":"/document/item[4]","l":-1,"f":"SOURCE"},"children":[{"tag":"L","name":"li","meta":{"l":22,"c":24,"m":"0"},"children":[{"tag":"A","name":"class","meta":{"l":22,"m":"0"},"children":[]},{"tag":"xsl:apply-templates","name":"","attrs":{"select":".","mode":"import"},"meta":{"l":23,"c":51,"m":"0"},"children":[{"tag":"xsl:template","name":"","attrs":{"match":"item","mode":"import"},"meta":{"l":3,"c":43,"m":"1"},"src":{"x":"/document/item[4]","l":-1,"f":"SOURCE"},"children":[{"tag":"L","name":"span","meta":{"l":4,"c":8,"m":"1"},"children":[{"tag":"xsl:value-of","name":"","attrs":{"select":"."},"meta":{"l":5,"c":29,"m":"1"},"children":[]}]}]}]},{"tag":"xsl:apply-templates","name":"","attrs":{"select":"$ext2"},"meta":{"l":24,"c":41,"m":"0"},"children":[{"tag":"xsl:template","name":"","attrs":{"match":"label"},"meta":{"l":37,"c":30,"m":"0"},"src":{"x":"/document/label[1]","l":-1,"f":"0"},"children":[{"tag":"L","name":"label","meta":{"l":38,"c":9,"m":"0"},"children":[{"tag":"xsl:value-of","name":"","attrs":{"select":"."},"meta":{"l":39,"c":29,"m":"0"},"children":[]}]}]}]}]}]}]}]}]}]}]};
			
			$(function(){
			 	xsl_tracer.init({
			 		template_path: './test/xsl/',
			 		source_url: './test/xml/simple.xml',
			 		trace_url: xsl_tracing_data, 
			 		result_url: document.getElementById('xt-result-doc')
			 	});
			});
		</script>
	</body>
</html>
